<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- report_type="qweb-pdf" -->
        <report
            id="action_label_picking"
            string="Product label picking"
            model="stock.picking"
            report_type="qweb-pdf"
            name="product_label_picking.label_picking"
            file="product_label_picking.label_picking"
            menu="False"
         />

        <!-- Action -->
        <record id="action_label_picking" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="product_label.paperformat_product_label"/>
        </record>


        <!-- Views -->
        <template id="label_picking">
            <t t-foreach="doc_ids" t-as="doc_id">
                <t t-raw="translate_doc(doc_id, doc_model, 'name', 'product_label_picking.label_picking_document')"/>
            </t>
        </template>



        <template id="label_picking_document">
            <t t-call="report.html_container">
                <div class="page">
                    <style>
                        body {
                            color: #000;
                            font-family: Arial, Helvetica,"Lucida Grande", serif;
                            font-size: 22pt; /* 14pt */
                            letter-spacing:0.0px;
                            line-height: 1.4em;
                            margin:0;
                            padding:0;
                            word-spacing:1px;
                        }
                        .tbig {
                            font-size: 26pt; /* 17pt */
                            font-weight: bold;
                            float: left;
                            display: inline-block;
                        }
                        .tsmall {
                            font-size: 10pt;
                            font-weight: bold;
                            float: left;
                            display: inline-block;
                        }
                        .tinvert {
                            background: #000;
                            color: #fff;
                        }
                    </style>

                    <t t-foreach="get_products(o)" t-as="product">
                        <t t-set="partner" t-value="get_partner(o)"/>
                        <t t-if="partner">
                            <div class="row" style="margin-bottom: 0px; min-height: 85px; text-align: center">
                                <span class="tsmall" t-esc="partner.name"/>
                            </div>
                        </t>
                        <div class="row" style="text-align: center;">
                           <img t-att-src="'/report/barcode/EAN13/%s?width=%s&amp;height=%s' % (product.ean13 or '0000000000000', 350, 80)"/>
                        </div>
                        <div class="row">
                            <div class="col-xs-6" style="text-align: left; margin-top: 2px;">
                                <span t-esc="product.default_code or 'codigo'"/>
                            </div>
                            <div class="col-xs-6" style="margin-top: 2px;">
                                <span class="tsmall" style="margin: 5px 0px 0px 5px;">EUR</span>
                            </div>
                        </div>
                    </t>

                </div>
            </t>
        </template>

    </data>
</openerp>
